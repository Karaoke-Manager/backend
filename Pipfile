[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]
typer = "*"
pytest = "*"
asgi-lifespan = "*"
pytest-asyncio = "*"
pytest-xdist = "*"
httpx = "*"
mypy = "*"

[packages]
uvicorn = "*"
FastAPI = "*"
FastAPI-Helpers = {path = "./packages/fastapi-helpers",editable = true}
Pydantic = "*" # TODO: Is this explicit dependency neccessary?
python-multipart = "*"  # TODO: What is this for?
PyJWT = "*"
passlib = {extras = ["bcrypt"],version = "*"}
aioredis = "*"
motor = "*"
Motor-ODM = {path = "../Motor-ODM",editable = true}
funcy = "*"
PyYAML = "*"
fs = "*"

[requires]
python_version = "3.7"

[scripts]
serve = "uvicorn karman:app --reload"
test = "pipenv run test:unit && pipenv run test:pep8"
"test:unit" = "pytest -n auto"
migrate = "python tasks/migrate.py"
import-test-data = "python tasks/import_test_data.py"
# TODO: Test pep8 tests
# TODO: Test coverage tests
clean = "rm -rf .mypy_cache .pytest_cache"
